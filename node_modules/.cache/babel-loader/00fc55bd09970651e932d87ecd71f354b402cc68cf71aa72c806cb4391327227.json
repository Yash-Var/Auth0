{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/yashv/third/third/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/yashv/third/third/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import\"./App.css\";import axios from\"axios\";import{useAuth0}from\"@auth0/auth0-react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useAuth=useAuth0(),loginWithPopup=_useAuth.loginWithPopup,loginWithRedirect=_useAuth.loginWithRedirect,logout=_useAuth.logout,user=_useAuth.user,isAuthenticated=_useAuth.isAuthenticated,getAccessTokenSilently=_useAuth.getAccessTokenSilently;function apiRoute(){axios.get(\"http://localhost:4000/\").then(function(res){return console.log(res.data);}).catch(function(err){return console.log(err);});}function protectedApiRoute(){return _protectedApiRoute.apply(this,arguments);}function _protectedApiRoute(){_protectedApiRoute=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var token,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getAccessTokenSilently();case 3:token=_context.sent;_context.next=6;return axios.get(\"http://localhost:4000/protected\",{headers:{authorization:\"Bearer \".concat(token)}});case 6:response=_context.sent;console.log(response.data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return _protectedApiRoute.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Yash Varshney\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:loginWithPopup,children:\"login With Popup\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:loginWithRedirect,children:\"login With redirec\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:logout,children:\"login With logout\"})})]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"User is \",isAuthenticated?\"logged in \":\"not logged in\"]}),isAuthenticated&&/*#__PURE__*/_jsx(\"pre\",{style:{textAlign:\"start\"},children:JSON.stringify(user,null,2)}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:apiRoute,children:\"Call Api Route\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:protectedApiRoute,children:\"Call Protected Api Route\"})})]})]});}export default App;","map":{"version":3,"names":["axios","useAuth0","App","loginWithPopup","loginWithRedirect","logout","user","isAuthenticated","getAccessTokenSilently","apiRoute","get","then","res","console","log","data","catch","err","protectedApiRoute","token","headers","authorization","response","message","textAlign","JSON","stringify"],"sources":["C:/Users/yashv/third/third/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport axios from \"axios\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nfunction App() {\n  const {\n    loginWithPopup,\n    loginWithRedirect,\n    logout,\n    user,\n    isAuthenticated,\n    getAccessTokenSilently,\n  } = useAuth0();\n  function apiRoute() {\n    axios\n      .get(\"http://localhost:4000/\")\n      .then((res) => console.log(res.data))\n      .catch((err) => console.log(err));\n  }\n  async function protectedApiRoute() {\n    try {\n      const token = await getAccessTokenSilently();\n      // console.log(token);\n      const response = await axios.get(\"http://localhost:4000/protected\", {\n        headers: {\n          authorization: `Bearer ${token}`,\n        },\n      });\n      console.log(response.data);\n    } catch (error) {\n      console.log(error.message);\n    }\n  }\n  return (\n    <div className=\"App\">\n      <h1>Yash Varshney</h1>\n      <ul>\n        <li>\n          <button onClick={loginWithPopup}>login With Popup</button>\n        </li>\n        <li>\n          <button onClick={loginWithRedirect}>login With redirec</button>\n        </li>\n        <li>\n          <button onClick={logout}>login With logout</button>\n        </li>\n      </ul>\n      <h3>User is {isAuthenticated ? \"logged in \" : \"not logged in\"}</h3>\n      {isAuthenticated && (\n        <pre style={{ textAlign: \"start\" }}>\n          {JSON.stringify(user, null, 2)}\n        </pre>\n      )}\n      <ul>\n        <li>\n          <button onClick={apiRoute}>Call Api Route</button>\n        </li>\n        <li>\n          <button onClick={protectedApiRoute}>Call Protected Api Route</button>\n        </li>\n      </ul>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"gPAAA,MAAO,WAAW,CAClB,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,oBAAoB,CAAC,wFAC9C,QAASC,IAAG,EAAG,CACb,aAOID,QAAQ,EAAE,CANZE,cAAc,UAAdA,cAAc,CACdC,iBAAiB,UAAjBA,iBAAiB,CACjBC,MAAM,UAANA,MAAM,CACNC,IAAI,UAAJA,IAAI,CACJC,eAAe,UAAfA,eAAe,CACfC,sBAAsB,UAAtBA,sBAAsB,CAExB,QAASC,SAAQ,EAAG,CAClBT,KAAK,CACFU,GAAG,CAAC,wBAAwB,CAAC,CAC7BC,IAAI,CAAC,SAACC,GAAG,QAAKC,QAAO,CAACC,GAAG,CAACF,GAAG,CAACG,IAAI,CAAC,GAAC,CACpCC,KAAK,CAAC,SAACC,GAAG,QAAKJ,QAAO,CAACC,GAAG,CAACG,GAAG,CAAC,GAAC,CACrC,CAAC,QACcC,kBAAiB,+JAAhC,8LAEwBV,uBAAsB,EAAE,QAAtCW,KAAK,qCAEYnB,MAAK,CAACU,GAAG,CAAC,iCAAiC,CAAE,CAClEU,OAAO,CAAE,CACPC,aAAa,kBAAYF,KAAK,CAChC,CACF,CAAC,CAAC,QAJIG,QAAQ,eAKdT,OAAO,CAACC,GAAG,CAACQ,QAAQ,CAACP,IAAI,CAAC,CAAC,iFAE3BF,OAAO,CAACC,GAAG,CAAC,YAAMS,OAAO,CAAC,CAAC,qEAE9B,oDACD,mBACE,aAAK,SAAS,CAAC,KAAK,wBAClB,qCAAsB,cACtB,mCACE,iCACE,eAAQ,OAAO,CAAEpB,cAAe,8BAA0B,EACvD,cACL,iCACE,eAAQ,OAAO,CAAEC,iBAAkB,gCAA4B,EAC5D,cACL,iCACE,eAAQ,OAAO,CAAEC,MAAO,+BAA2B,EAChD,GACF,cACL,iCAAaE,eAAe,CAAG,YAAY,CAAG,eAAe,GAAM,CAClEA,eAAe,eACd,YAAK,KAAK,CAAE,CAAEiB,SAAS,CAAE,OAAQ,CAAE,UAChCC,IAAI,CAACC,SAAS,CAACpB,IAAI,CAAE,IAAI,CAAE,CAAC,CAAC,EAEjC,cACD,mCACE,iCACE,eAAQ,OAAO,CAAEG,QAAS,4BAAwB,EAC/C,cACL,iCACE,eAAQ,OAAO,CAAES,iBAAkB,sCAAkC,EAClE,GACF,GACD,CAEV,CAEA,cAAehB,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}